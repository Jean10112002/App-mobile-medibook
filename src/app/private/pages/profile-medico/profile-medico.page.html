<app-navbar [NameRoute]="'Profile medico'" [href]="'/home'" />

<ion-content [fullscreen]="true" *ngIf="medico">
  <ion-card>
    <ion-card-header>
      <div class="flex-warp">
        <p class="title">Perfil Medico</p>
        <img
          class="img-profile"
          alt="user"
          src="https://ionicframework.com/docs/img/demos/avatar.svg"
        />
        <h3>
          {{medico.usuario.nombre|titlecase}}
          <span> {{medico.usuario.apellido|titlecase}} </span>
        </h3>
        <p>{{medico.usuario.email|titlecase}}</p>
      </div>

      <div class="flex-warp-content">
        <div class="data-content">
          <ion-icon name="location-outline"></ion-icon>
          <div class="subtitle">
            {{medico.usuario.ubicacion.provincia |titlecase}}-<span>
              {{medico.usuario.ubicacion.canton|titlecase}}
            </span>
          </div>
        </div>

        <div class="data-content">
          <ion-icon name="calendar-number-outline"></ion-icon>
          <div class="subtitle">
            {{medico.usuario.datos_personale.fecha|date}}
          </div>
        </div>

        <div class="data-content">
          <ion-icon name="call-outline"></ion-icon>
          <div class="subtitle">
            {{medico.usuario.datos_personale.telefono}}
          </div>
        </div>

        <div class="data-content">
          <ion-icon name="calendar-outline"></ion-icon>
          <div class="subtitle">{{medico.especialidad.nombre}}</div>
        </div>
      </div>
    </ion-card-header>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-accordion-group>
        <ion-accordion-group>
          <ion-accordion
            value="second"
            toggleIcon="caret-down-circle"
            toggleIconSlot="start"
          >
            <ion-item slot="header" color="light">
              <div class="subtitle">
                {{medico.titulo.length}} <span>Titulos</span>
              </div>
            </ion-item>

            <div slot="content">
              <div class="data-content" *ngFor="let titulo of medico.titulo">
                <ion-icon name="trophy-outline"></ion-icon>
                <div class="subtitle">{{titulo.nombre}}</div>
              </div>
            </div>
          </ion-accordion>
        </ion-accordion-group>
      </ion-accordion-group>
    </ion-card-header>

    <ion-card-header>
      <ion-accordion-group>
        <ion-accordion-group>
          <ion-accordion
            value="second"
            toggleIcon="caret-down-circle"
            toggleIconSlot="start"
          >
            <ion-item slot="header" color="light">
              <div class="subtitle">
                {{medico.horario.length}} <span>d√≠as trabaja</span>
              </div>
            </ion-item>

            <div slot="content">
              <div class="data-content" *ngFor="let horario of medico.horario">
                <ion-icon name="alarm-outline"></ion-icon>
                <div class="subtitle">
                  Horario {{horario.dia |titlecase}}
                  <span> {{horario.hora_inicio}} </span> -
                  <span> {{horario.hora_fin}} </span>
                </div>
              </div>
            </div>

          </ion-accordion>
        </ion-accordion-group>
      </ion-accordion-group>
    </ion-card-header>

    <ion-card-header>
      <ion-accordion-group>
        <ion-accordion
          value="second"
          toggleIcon="caret-down-circle"
          toggleIconSlot="start"
        >
          <ion-item slot="header" color="light">
            <div class="subtitle">Citas</div>
          </ion-item>
          <div slot="content">
            <h5>
              Tiene <span> {{medico.cita.length}} </span> <span> citas</span>
            </h5>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </ion-card-header>

    <div class="ion-text-center ion-margin-vertical" [routerLink]="['/citas-medicas-crear/',medico.id]" routerLinkActive="router-link-active" >
      <ion-button> Agendar cita </ion-button>
    </div>
  </ion-card>
</ion-content>
